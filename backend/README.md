DDD

```
┌─────────────────────────────────────┐
│          Handler                    │
│  - 接收请求 / 返回响应                 │
│  - 校验参数 / 鉴权                    │
│  - 调用 Application Service          │
│  - 不包含业务逻辑                      │
└───────────────┬─────────────────────┘
                │ 调用
                ▼
┌─────────────────────────────────────┐
│   Application Service               │
│  - 协调业务流程                       │
│  - 调用 Domain（核心业务逻辑）         │
│  - 处理事务 / 日志 / 异常              │
│  - 调用基础设施服务（MQ、外部 API）     │──────────┐
└───────────────┬─────────────────────┘          │
                │ 调用                            │
                ▼                                │
┌─────────────────────────────────────┐          │
│          Domain                     │          │
│  - 核心业务逻辑                       │          │
│    • 实体 / 值对象                    │         │
│    • 聚合根 / 聚合边界                 │         │
│    • 领域服务（复杂逻辑）               │         │
│  - 定义 Repository 接口               │         │
│  - 只依赖接口，不关心实现               │         │
│  - 完全专注业务规则                    │         │
└───────────────┬─────────────────────┘         │
                │ 实现依赖                        │
                ▼                               │
┌─────────────────────────────────────┐         │
│          Infra                      │◀────────┘
│  - 实现 Repository 接口              │
│  - 实际操作 DB / 缓存 / MQ            │
│  - 提供 Application/Domain 调用      │
│  - 对领域逻辑透明                     │
│  - 提供非业务相关服务（邮件、外部 API）  │
└─────────────────────────────────────┘

```
